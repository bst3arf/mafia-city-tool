<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mafia City Pro Strategy</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #ffd700; --dark: #0d0d0d; --card: #1a1a1a; --accent: #ff4500; --green: #25d366; }
        body { font-family: 'Cairo', sans-serif; background: var(--dark); color: #fff; margin: 0; padding: 10px; }
        .container { max-width: 600px; margin: auto; }
        .header { text-align: center; border-bottom: 2px solid var(--gold); padding: 15px; margin-bottom: 20px; }
        .section { background: var(--card); border-radius: 12px; padding: 15px; margin-bottom: 15px; border: 1px solid #333; }
        h2 { color: var(--gold); font-size: 18px; margin-top: 0; border-right: 4px solid var(--gold); padding-right: 10px; }
        label { display: block; margin: 10px 0 5px; font-size: 13px; color: #aaa; }
        input, select, textarea { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #333; background: #000; color: #fff; box-sizing: border-box; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; margin-top: 10px; font-size: 16px; transition: 0.3s; }
        .btn-gold { background: linear-gradient(45deg, #ffd700, #b8860b); color: #000; }
        .btn-share { background: var(--green); color: #fff; display: none; align-items: center; justify-content: center; gap: 10px; }
        .result-panel { display: none; background: #111; border: 1px solid var(--gold); border-radius: 10px; padding: 15px; margin-top: 20px; animation: fadeIn 0.5s; }
        .army-row { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #222; }
        .army-row span { color: var(--gold); font-family: monospace; font-size: 1.1em; }
        .hero-advice { background: rgba(255, 215, 0, 0.1); border-right: 4px solid var(--gold); padding: 10px; margin-top: 15px; font-size: 14px; color: #eee; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1 style="color: var(--gold); margin: 0;">ğŸ›¡ï¸ Ø±Ø§Ø¯Ø§Ø± Ø§Ù„Ù…Ø§ÙÙŠØ§ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</h1>
        <small>Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ - Ù†Ø³Ø®Ø© Ø§Ù„ÙƒÙ„Ø§Ù†</small>
    </div>

    <div class="section">
        <h2>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù‚ÙˆØ©</h2>
        <div class="grid">
            <div>
                <label>Ø³Ø¹Ø© Ø§Ù„Ù…Ø³ÙŠØ±Ø©</label>
                <input type="number" id="marchSize" value="250000">
            </div>
            <div>
                <label>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚ÙˆØ§Øª</label>
                <select id="tier">
                    <option value="12">T12 / Ø§Ù„Ù†Ø®Ø¨Ø©</option>
                    <option value="11">T11</option>
                    <option value="10" selected>T10</option>
                </select>
            </div>
        </div>
        <label>Ù†ÙˆØ¹ Ø§Ù„ØªØ­Ø¯ÙŠ</label>
        <select id="event">
            <option value="attack">Ù‡Ø¬ÙˆÙ… Ù…Ø¯ÙŠÙ†Ø© / Ø±Ø§Ù„ÙŠ</option>
            <option value="defense">Ø¯ÙØ§Ø¹ Ø¹Ù† Ø§Ù„ÙÙŠÙ„Ø§</option>
        </select>
    </div>

    <div class="section">
        <h2>ğŸ‘¤ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª</h2>
        <label>Ø§Ù„Ø¨Ø·Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ:</label>
        <select id="heroSelect" onchange="showHeroNote()">
            <option value="">-- Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø·Ù„ --</option>
            <option value="nelson">Ù†ÙŠÙ„Ø³ÙˆÙ† (Nelson)</option>
            <option value="pawel">Ø¨Ø§ÙˆØ² (Pawel)</option>
            <option value="isabella">Ø¥ÙŠØ²Ø§Ø¨ÙŠÙ„ (Isabella)</option>
            <option value="firelion">ÙØ§ÙŠØ± Ù„ÙŠÙˆÙ† (Fire Lord)</option>
            <option value="vlad">ÙÙ„Ø§Ø¯ÙŠÙ…ÙŠØ± (Vladimir)</option>
        </select>
        <div id="heroNote" class="hero-advice" style="display:none;"></div>
    </div>

    <button class="btn btn-gold" onclick="calculate()">ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø© Ø§Ù„Ø°ÙƒÙŠØ©</button>

    <div id="results" class="result-panel">
        <h3 style="color:var(--gold); margin-top:0;">ğŸ“‹ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:</h3>
        <div id="armyList"></div>
        <div id="finalNote" class="hero-advice" style="border-color: var(--accent);"></div>
        <button class="btn btn-share" id="shareBtn" onclick="shareToWhatsApp()">ğŸ“¢ Ù…Ø´Ø§Ø±ÙƒØ© Ù…Ø¹ Ø§Ù„ÙƒÙ„Ø§Ù† (WhatsApp)</button>
    </div>
</div>

<script>
const heroData = {
    nelson: "Ù†ÙŠÙ„Ø³ÙˆÙ† Ø¨Ø·Ù„ Ù‡Ø¬ÙˆÙ…ÙŠ Ù…Ø±Ø¹Ø¨ Ù„Ù„Ø¯Ø±Ø§Ø¬Ø§Øª. Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙŠØªØ·Ù„Ø¨ Ù…Ù†Ùƒ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ 'Ø¶Ø±Ø± Ø§Ù„Ø¯Ø±Ø§Ø¬Ø§Øª' ÙÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§Øª Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙˆØ§Ù„Ø³Ù…Ø§Øª.",
    pawel: "Ø¨Ø§ÙˆØ² Ù‡Ùˆ Ø³ÙŠØ¯ Ø§Ù„Ø¯ÙØ§Ø¹. Ø¥Ø°Ø§ Ø§Ø³ØªØ®Ø¯Ù…ØªÙ‡ ÙÙŠ Ø§Ù„Ù‡Ø¬ÙˆÙ…ØŒ ÙŠÙØ¶Ù„ Ø²ÙŠØ§Ø¯Ø© Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ù‚Ø§ØªÙ„ÙŠÙ† (Bulkers) Ù„Ø¶Ù…Ø§Ù† Ø¹Ø¯Ù… Ø§Ù†Ù‡ÙŠØ§Ø± Ø§Ù„Ù…Ø³ÙŠØ±Ø©.",
    isabella: "Ø¨Ø·Ù„Ø© Ø´Ø§Ù…Ù„Ø© Ù…Ù…ØªØ§Ø²Ø© Ù„Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ø­Ø§ÙƒÙ…. ØªÙˆØ§Ø²Ù† Ø¨ÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù‚ÙˆØ§Øª ÙˆØªØ²ÙŠØ¯ Ù…Ù† Ø³Ø±Ø¹Ø© Ø§Ù„Ù‡Ø¬ÙˆÙ….",
    firelion: "ÙØ§ÙŠØ± Ù„ÙŠÙˆÙ† Ù…Ø®ØµØµ Ù„Ù„Ù‚ÙˆØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø© (T11/T12). ÙŠØ¹Ø·ÙŠ Ù‚ÙˆØ© Ø§Ù†ÙØ¬Ø§Ø±ÙŠØ© ÙÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø« Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù…Ù† Ø§Ù„Ù…Ø¹Ø±ÙƒØ©.",
    vlad: "ÙÙ„Ø§Ø¯ÙŠÙ…ÙŠØ± ÙŠØ²ÙŠØ¯ Ù…Ù† Ø³Ø¹Ø© Ø§Ù„Ù…Ø³ÙŠØ±Ø© Ø¨Ø´ÙƒÙ„ ÙƒØ¨ÙŠØ±. Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ ÙŠØ³Ù…Ø­ Ù„Ùƒ Ø¨Ø£Ø®Ø° Ø¹Ø¯Ø¯ Ø¬Ù†ÙˆØ¯ Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„Ù…Ø¹ØªØ§Ø¯."
};

function showHeroNote() {
    const hero = document.getElementById('heroSelect').value;
    const noteDiv = document.getElementById('heroNote');
    if(hero) {
        noteDiv.style.display = "block";
        noteDiv.innerHTML = `<b>ğŸ’¡ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨Ø·Ù„:</b><br>${heroData[hero]}`;
    } else {
        noteDiv.style.display = "none";
    }
}

function calculate() {
    const size = parseInt(document.getElementById('marchSize').value);
    const event = document.getElementById('event').value;
    const hero = document.getElementById('heroSelect').value;

    let pInf = 0.30, pBike = 0.65, pCar = 0.05;
    if(event === 'defense') { pInf = 0.45; pBike = 0.45; pCar = 0.10; }

    document.getElementById('armyList').innerHTML = `
        <div class="army-row">Ù…Ù‚Ø§ØªÙ„ÙŠÙ† (Bulkers): <span>${Math.floor(size * pInf).toLocaleString()}</span></div>
        <div class="army-row">Ø¯Ø±Ø§Ø¬Ø§Øª (Bikers): <span>${Math.floor(size * pBike).toLocaleString()}</span></div>
        <div class="army-row">Ø±Ù…Ø§Ø© / Ø³ÙŠØ§Ø±Ø§Øª: <span>${Math.floor(size * pCar).toLocaleString()}</span></div>
    `;

    let finalTip = "âœ… Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø© Ù…ØªÙˆØ§Ø²Ù†Ø©. ØªØ£ÙƒØ¯ Ù…Ù† ØªÙØ¹ÙŠÙ„ Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ø¨Ø·Ù„ Ù‚Ø¨Ù„ Ø§Ù„Ù‡Ø¬ÙˆÙ….";
    if(event === 'attack' && hero === 'pawel') finalTip = "âš ï¸ ØªÙ†Ø¨ÙŠÙ‡: Ø£Ù†Øª ØªØ³ØªØ®Ø¯Ù… Ø¨Ø·Ù„ Ø¯ÙØ§Ø¹ÙŠ ÙÙŠ Ø§Ù„Ù‡Ø¬ÙˆÙ…ØŒ ÙŠÙØ¶Ù„ ØªØ¨Ø¯ÙŠÙ„Ù‡ Ø¨Ù†ÙŠÙ„Ø³ÙˆÙ† Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¶Ø±Ø±.";
    
    document.getElementById('finalNote').innerHTML = finalTip;
    document.getElementById('results').style.display = 'block';
    document.getElementById('shareBtn').style.display = 'flex';
}

function shareToWhatsApp() {
    const size = document.getElementById('marchSize').value;
    const hero = document.getElementById('heroSelect').options[document.getElementById('heroSelect').selectedIndex].text;
    const msg = `ğŸ›¡ï¸ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø§ÙÙŠØ§ Ø³ÙŠØªÙŠ:\nğŸ“ Ø³Ø¹Ø© Ø§Ù„Ù…Ø³ÙŠØ±Ø©: ${size}\nğŸ‘¤ Ø§Ù„Ø¨Ø·Ù„: ${hero}\nâœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø© Ø¨Ù†Ø¬Ø§Ø­!`;
    window.open(`https://wa.me/?text=${encodeURIComponent(msg)}`);
}
</script>
</body>
</html>
